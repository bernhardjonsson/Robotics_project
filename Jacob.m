function J = Jacob(T01, T12, T23, T34)

T04=T01*T12*T23*T34
T03=T01*T12*T23
T02=T01*T12
T01


z0 = [0 0 1]; %world

z1 = [T01(1,3) T01(2,3) T01(3,3)]
o1 = [T01(1,4) T01(2,4) T01(3,4)]

z2 = [T02(1,3) T02(2,3) T02(3,3)]
o2 = [T02(1,4) T02(2,4) T02(3,4)]

z3 = [T03(1,3) T03(2,3) T03(3,3)]
o3 = [T03(1,4) T03(2,4) T03(3,4)]

%z4 = [T04(1,3) T04(2,3) T04(2,3)];
o4 = [T04(1,4) T04(2,4) T04(3,4)]





Jv1 = cross(z1,(o4-o1));
Jw1 = z1;

Jv2 = cross(z2,(o4-o2));
Jw2 = z2;

Jv3 = cross(z3,(o4-o3));
Jw3 = z3;

%Jv4 = cross(z4,(o4-o3))
%Jw4 = z4

J0 = [z0 [0 0 0]]'
J1 = [Jv1 Jw1]'
J2 = [Jv2 Jw2]'
J3 = [Jv3 Jw3]'

%J4 = [Jv4 Jw4]';


J = [J0 J1 J2 J3];% J4];

end